<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/main/java/org/example/Controllers/MainScreenController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/org/example/Controllers/MainScreenController.java" />
              <option name="originalContent" value="package org.example.Controllers;&#10;&#10;import javafx.fxml.FXML;&#10;import javafx.fxml.FXMLLoader;&#10;import javafx.scene.Parent;&#10;import javafx.scene.control.Button;&#10;import javafx.scene.image.Image;&#10;import javafx.scene.image.ImageView;&#10;import javafx.scene.input.KeyCombination;&#10;import javafx.stage.Stage;&#10;&#10;import java.io.IOException;&#10;import java.util.Locale;&#10;import java.util.ResourceBundle;&#10;&#10;import javafx.scene.layout.VBox;&#10;import javafx.scene.control.Label;&#10;import javafx.stage.StageStyle;&#10;&#10;public class MainScreenController {&#10;&#10;    @FXML&#10;    private Button loginButton;&#10;&#10;    @FXML&#10;    private Button registrationButton;&#10;&#10;    @FXML&#10;    private Button settingsButton;&#10;&#10;    @FXML&#10;    private Button languageButton;&#10;&#10;    @FXML&#10;    private Button themeButton;&#10;&#10;    @FXML&#10;    private VBox rootPane;&#10;&#10;    @FXML&#10;    private Label labelOperatingRules;&#10;&#10;    @FXML&#10;    private Label labelJumpArena;&#10;&#10;    @FXML&#10;    void initialize() {&#10;        loginButton.setOnAction(event -&gt; switchScene(&quot;/org/example/fxml/QRCodeLogin.fxml&quot;));&#10;        registrationButton.setOnAction(event -&gt; switchScene(&quot;/org/example/fxml/RegistrationPage.fxml&quot;));&#10;        languageButton.setOnAction(event -&gt; toggleLanguage());&#10;        themeButton.setOnAction(event -&gt; toggleTheme());&#10;        applyTheme();&#10;        updateLanguageButtonIcon();&#10;    }&#10;&#10;    private void switchScene(String fxmlPath) {&#10;        try {&#10;            ResourceBundle bundle = ResourceBundle.getBundle(&quot;messages&quot;, Locale.getDefault());&#10;            FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlPath), bundle);&#10;            Parent root = loader.load();&#10;            Stage stage = (Stage) loginButton.getScene().getWindow();&#10;            stage.getScene().setRoot(root);&#10;            stage.setFullScreen(true);&#10;            stage.setFullScreenExitKeyCombination(KeyCombination.NO_MATCH);&#10;//            stage.setMaximized(true);&#10;//            stage.initStyle(StageStyle.UNDECORATED);&#10;        } catch (IOException e) {&#10;            e.printStackTrace();&#10;        }&#10;    }&#10;&#10;    private void toggleLanguage() {&#10;        Locale currentLocale = Locale.getDefault();&#10;        if (currentLocale.getLanguage().equals(&quot;sk&quot;)) {&#10;            Locale.setDefault(Locale.ENGLISH);&#10;        } else {&#10;            Locale.setDefault(Locale.forLanguageTag(&quot;sk&quot;));&#10;        }&#10;        // Reload current scene to apply language change&#10;        switchScene(&quot;/org/example/fxml/MainScreen.fxml&quot;);&#10;    }&#10;&#10;    private void updateLanguageButtonIcon() {&#10;        Locale currentLocale = Locale.getDefault();&#10;        String imagePath;&#10;        if (currentLocale.getLanguage().equals(&quot;sk&quot;)) {&#10;            imagePath = &quot;/org/example/flags/ukFlag.png&quot;;&#10;        } else {&#10;            imagePath = &quot;/org/example/flags/skFlag.png&quot;;&#10;        }&#10;&#10;        try {&#10;            Image flagImage = new Image(getClass().getResourceAsStream(imagePath));&#10;            ImageView flagImageView = new ImageView(flagImage);&#10;            flagImageView.setFitWidth(40);&#10;            flagImageView.setFitHeight(40);&#10;            languageButton.setGraphic(flagImageView);&#10;            languageButton.setText(&quot;&quot;); // Remove text to only show the icon&#10;        } catch (Exception e) {&#10;            e.printStackTrace();&#10;            // Fallback to text if image loading fails&#10;            languageButton.setText(currentLocale.getLanguage());&#10;        }&#10;    }&#10;&#10;    private void toggleTheme() {&#10;        ThemeManager.toggleTheme();&#10;        applyTheme();&#10;    }&#10;&#10;    private void applyTheme() {&#10;        java.util.List&lt;Label&gt; labels = java.util.Arrays.asList(labelOperatingRules, labelJumpArena);&#10;        java.util.List&lt;Button&gt; buttons = java.util.Arrays.asList(loginButton, registrationButton, settingsButton,&#10;                languageButton, themeButton);&#10;        ThemeManager.applyTheme(rootPane, labels, buttons, null);&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package org.example.Controllers;&#13;&#10;&#13;&#10;import javafx.fxml.FXML;&#13;&#10;import javafx.fxml.FXMLLoader;&#13;&#10;import javafx.scene.Parent;&#13;&#10;import javafx.scene.control.Button;&#13;&#10;import javafx.scene.image.Image;&#13;&#10;import javafx.scene.image.ImageView;&#13;&#10;import javafx.scene.input.KeyCombination;&#13;&#10;import javafx.stage.Stage;&#13;&#10;&#13;&#10;import java.io.IOException;&#13;&#10;import java.util.Locale;&#13;&#10;import java.util.ResourceBundle;&#13;&#10;&#13;&#10;import javafx.scene.layout.VBox;&#13;&#10;import javafx.scene.control.Label;&#13;&#10;import javafx.stage.StageStyle;&#13;&#10;&#13;&#10;public class MainScreenController {&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private Button loginButton;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private Button registrationButton;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private Button settingsButton;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private Button languageButton;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private Button themeButton;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private VBox rootPane;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private Label labelOperatingRules;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    private Label labelJumpArena;&#13;&#10;&#13;&#10;    @FXML&#13;&#10;    void initialize() {&#13;&#10;        loginButton.setOnAction(event -&gt; switchScene(&quot;/org/example/fxml/QRCodeLogin.fxml&quot;));&#13;&#10;        registrationButton.setOnAction(event -&gt; switchScene(&quot;/org/example/fxml/RegistrationPage.fxml&quot;));&#13;&#10;        languageButton.setOnAction(event -&gt; toggleLanguage());&#13;&#10;        themeButton.setOnAction(event -&gt; toggleTheme());&#13;&#10;        applyTheme();&#13;&#10;        updateLanguageButtonIcon();&#13;&#10;    }&#13;&#10;&#13;&#10;    private void switchScene(String fxmlPath) {&#13;&#10;        try {&#13;&#10;            ResourceBundle bundle = ResourceBundle.getBundle(&quot;messages&quot;, Locale.getDefault());&#13;&#10;            FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlPath), bundle);&#13;&#10;            Parent root = loader.load();&#13;&#10;            Stage stage = (Stage) loginButton.getScene().getWindow();&#13;&#10;            stage.getScene().setRoot(root);&#13;&#10;            stage.setFullScreen(true);&#13;&#10;            stage.setFullScreenExitKeyCombination(KeyCombination.NO_MATCH);&#13;&#10;//            stage.setMaximized(true);&#13;&#10;//            stage.initStyle(StageStyle.UNDECORATED);&#13;&#10;        } catch (IOException e) {&#13;&#10;            e.printStackTrace();&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void toggleLanguage() {&#13;&#10;        Locale currentLocale = Locale.getDefault();&#13;&#10;        if (currentLocale.getLanguage().equals(&quot;sk&quot;)) {&#13;&#10;            Locale.setDefault(Locale.ENGLISH);&#13;&#10;        } else {&#13;&#10;            Locale.setDefault(Locale.forLanguageTag(&quot;sk&quot;));&#13;&#10;        }&#13;&#10;        // Reload current scene to apply language change&#13;&#10;        switchScene(&quot;/org/example/fxml/MainScreen.fxml&quot;);&#13;&#10;    }&#13;&#10;&#13;&#10;    private void updateLanguageButtonIcon() {&#13;&#10;        Locale currentLocale = Locale.getDefault();&#13;&#10;        String imagePath;&#13;&#10;        if (currentLocale.getLanguage().equals(&quot;sk&quot;)) {&#13;&#10;            imagePath = &quot;/org/example/flags/ukFlag.png&quot;;&#13;&#10;        } else {&#13;&#10;            imagePath = &quot;/org/example/flags/skFlag.png&quot;;&#13;&#10;        }&#13;&#10;&#13;&#10;        try {&#13;&#10;            Image flagImage = new Image(getClass().getResourceAsStream(imagePath));&#13;&#10;            ImageView flagImageView = new ImageView(flagImage);&#13;&#10;            flagImageView.setFitWidth(40);&#13;&#10;            flagImageView.setFitHeight(40);&#13;&#10;            languageButton.setGraphic(flagImageView);&#13;&#10;            languageButton.setText(&quot;&quot;); // Remove text to only show the icon&#13;&#10;        } catch (Exception e) {&#13;&#10;            e.printStackTrace();&#13;&#10;            // Fallback to text if image loading fails&#13;&#10;            languageButton.setText(currentLocale.getLanguage());&#13;&#10;        }&#13;&#10;    }&#13;&#10;&#13;&#10;    private void toggleTheme() {&#13;&#10;        ThemeManager.toggleTheme();&#13;&#10;        applyTheme();&#13;&#10;    }&#13;&#10;&#13;&#10;    private void applyTheme() {&#13;&#10;        java.util.List&lt;Label&gt; labels = java.util.Arrays.asList(labelOperatingRules, labelJumpArena);&#13;&#10;        java.util.List&lt;Button&gt; buttons = java.util.Arrays.asList(loginButton, registrationButton, settingsButton,&#13;&#10;                languageButton, themeButton);&#13;&#10;        ThemeManager.applyTheme(rootPane, labels, buttons, null);&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>